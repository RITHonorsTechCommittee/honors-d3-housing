<!DOCTYPE html>
<html>
<head>
  <title>Honors Housing Selection</title>
  <meta charset="utf-8"> 
  <link rel=stylesheet href="/bower_components/foundation/css/normalize.css">
  <link rel=stylesheet href="/bower_components/foundation/css/foundation.css">
  <link rel=stylesheet href="/css/fonts/foundation-icons.css">
  <link rel=stylesheet href="/css/app.css">
  <link rel="shortcut icon" href="/img/logo.png">
</head>
<body>
<!--  BEGIN NAVIGATION STUFF  -->
  <!-- BEGIN NAV TOP BAR -->
  <nav class="top-bar" data-topbar>
      <ul class="title-area">
          <li class="name">
              <h1>
                  <a title="RIT Home" href="https://www.rit.edu/"><span class="ritabbr"><span class="ritlong show-for-large-up"></span></span></a>
              </h1>
          </li>
          <li class="toggle-topbar"><a href="#"><span>Search</span></a></li>
      </ul>

      <section class="top-bar-section">
          <ul class="right">
              <li id="username">
              </li>
              <li class="show-for-medium-up ritsearch">
                  <form method="get" action="http://www.rit.edu/search/">
                  <div class="row collapse">
                      <div class="large-10 small-9 columns">
                          <input type="text" name="q" placeholder="Search RIT">
                      </div>
                      <div class="large-2 small-3 columns">
                          <button class="search-button expand" title="Search RIT">&nbsp;<i class="fi-magnifying-glass"></i></button>
                      </div>
                  </div>
                  </form>
              </li>
              <li>
                  <a class="right-off-canvas-toggle menu-icon"><span></span></a>
              </li>
          </ul>
      </section>
  </nav>
  <!-- END NAV TOP BAR -->
  <!-- BEGIN OFF CANVAS MENU -->
<div class="off-canvas-wrap" data-offcanvas>
  <div class="inner-wrap">
    <aside class="right-off-canvas-menu">
        <ul class="off-canvas-list">
            <li><label>RIT</label></li>
            <li><a href="https://www.rit.edu/">RIT Home</a></li>
            <li><a href="https://www.rit.edu/directories.html">RIT Directories</a></li>
            <li class="hide-for-medium-up">
                <form method="get" action="http://www.rit.edu/search/" class="ritsearch">
                <div class="row collapse">
                    <div class="large-10 small-9 columns">
                        <input type="text" name="q" placeholder="Search RIT">
                    </div>
                    <div class="large-2 small-3 columns">
                        <button class="search-button expand" title="Search RIT">&nbsp;<i class="fi-magnifying-glass"></i></button>
                    </div>
                </div>
                </form>
            </li>
            <li><label>Honors</label></li>
            <li><a href="http://honors.rit.edu/">Home</a></li>
            <li><a href="http://honors.rit.edu/committees/">Built by Tech Committee</a></li>
            <li><a href="https://github.com/RITHonorsTechCommittee/honors-d3-housing" target="_blank">Code on GitHub</a></li>
        </ul>
    </aside>
  <!-- END OFF CANVAS MENU -->
<!--  END NAVIGATION STUFF  -->

<!-- BEGIN HOUSING SELECTION PART -->
    <div class="row">
      <section class="small-12 columns">
        <h1>Honors Housing Selection</h1>
        <h3>Pick a Floor and Click a Room To Reserve It <a class="toggle-help" href="#" >(?)</a></h3>
      </section>
      <section class="small-12 columns">
        <div id="instructions" class="instructions-open">
          <div id="instructions-inner">
            <h2>Gibson Hall Sign Up Instructions</h2>
            <ol>
              <li>
                Members that wish to live in Honors housing for the 2016-2017 academic year
                must go online to <a href="http://myhousing.rit.edu">myhousing.rit.edu</a>
                to register for Housing Selection Phase II sometime between December 1, 2015 and
                December 7, 2015.  <strong>Members must choose Honors Housing as one of their housing options.</strong>
              </li>
              <li>
                 After completing the online registration at <a href="http://myhousing.rit.edu">myhousing.rit.edu</a>, members must
                 log in to this website using their <a href="http://google.rit.edu/">RIT Google account</a> information and reserve
                 the room they wish to live in for the 2016-2017 academic year.
                <ul>
                  <li>
                    To reserve a room on this website, simply click on the room you wish to reserve.  The room must have available space.
                    Empty rooms are represented with entirely green circles.  Occupants are represented by blue sections of the circle, and a
                    full room is shown with a red circle.
                  </li>
                </ul>
              </li>
              <li>If you do not sign up in <strong>both</strong> systems, you <strong>will not</strong> be placed in Gibson.</li>
              <li>
                If you would like a single, sign up on the roster in a double, then email
                <a href="mailto:honors@rit.edu">honors@rit.edu</a> to request a single. Single rooms
                have an added cost and are assigned on a first come first serve basis.
              </li>
            </ol>
            <input type="button" value="Got it!" class="toggle-help" />
          </div>
        </div>
      </section>
      <section class="small-12 columns">
          <div id="loading">
            <ul class="button-group loading-screen"><li class="fixed-center loading"><i class="load-anim fi-widget"></i></li></ul>
            <p class="fixed-center loading-text">Loading...</p>
          </div>
          <nav id="floornav" class="button-bar">  
          </nav>
        <div id="selection"></div>
      </section>
    </div>
<!-- END HOUSING SELECTION PART -->
    <div id="errorModal" class="reveal-modal" data-reveal>
      <h1>Error</h1>
      <p class="alert message">An error has occurred</p>
      <a class="close-reveal-modal">&#215;</a>
    </div>
  </div>
</div>
<script src="/bower_components/setImmediate/setimmediate.js" charset="utf-8"></script>
<script src="/bower_components/promises/promise.js" charset="utf-8"></script>
<script src="/bower_components/jquery/dist/jquery.min.js"></script>
<script src="/bower_components/foundation/js/foundation.min.js"></script>
<script src="/bower_components/foundation/js/foundation/foundation.topbar.js"></script>
<script src="/bower_components/foundation/js/foundation/foundation.offcanvas.js"></script>
<script src="/bower_components/foundation/js/foundation/foundation.reveal.js"></script>
<script src="/bower_components/d3/d3.js" charset="utf-8"></script>
<script src="/bower_components/d3-tip/index.js" charset="utf-8"></script>
<script src="/js/endpoints.js" charset="utf-8"></script>
<script src="/js/map.js" charset="utf-8"></script>
<script src="/js/app.js" charset="utf-8"></script> <!-- Call me crazy, but I don't think this file exists -->
<script>
// Set hostname for endpoints server
//housing.endpoints.hostname = "http://localhost:8080";

// Google API callback to trigger application startup
function gapiCallback() {
    housing.endpoints.login(true)
        .then(housing.map.start)
        .catch(function(apiloaderror){
            $('#loading').hide();
            housing.endpoints.displayError( "Failed to establish connection with Google Endpoints", apiloaderror );
        });
}

// Click handler for signin events
housing.endpoints.signin = function() {
  housing.endpoints.authorize(false, function(oauthresult){
      if(oauthresult){
          housing.endpoints.getUserInfo().then(housing.map.start);
      }
  });
};

// Load foundation components
$(document).foundation({
    offcanvas: {
        open_method: 'overlap',
        close_on_click: true
    }
});

//JQuery onload tasks
$(function() {
  $(".toggle-help").click(function() {
    $("#instructions").toggleClass("instructions-open");
  });
  $("#username").click(housing.endpoints.signin);
  if( !window.gapi ) {
      // No google apis, start manually
      housing.map.start(true);
  }
});
</script>
<!--<script src="https://apis.google.com/js/client.js?onload=gapiCallback"></script>>
</body>
